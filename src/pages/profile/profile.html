<!--
  Generated template for the Profile page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      Profile
    </ion-title>
  </ion-navbar>


</ion-header>



<ion-content padding>
  <div *ngIf="showLogin">
    <h1>LOGIN</h1>
    <form #form="ngForm" (ngSubmit)="loginForm(form)" novalidate>
       <ion-item>
         <ion-label>Email</ion-label>
         <ion-input type="text" required [(ngModel)]="loginDetails.email" name="email"></ion-input>
       </ion-item>
       <ion-item>
         <ion-label>Password</ion-label>
         <ion-input [(ngModel)]="loginDetails.password" name="password" type="password"></ion-input>
       </ion-item>
       <br>
       <p color="danger">{{loginError}}</p>
       <button ion-button type="submit" block>Login</button>
     </form>
     <hr>
     <p>Create an account?</p>
     <button color="light" ion-button (click)="loadSignup()">Sign up</button>
   </div>

    <div *ngIf="showSignup">
      <h1>SIGN UP</h1>
      <form #form="ngForm" (ngSubmit)="signupForm(form)" novalidate>
        <ion-item>
           <ion-label>First name</ion-label>
           <ion-input type="text" required [(ngModel)]="signupDetails.first_name" name="first_name"></ion-input>
         </ion-item>
         <ion-item>
           <ion-label>Last name</ion-label>
           <ion-input type="text" required [(ngModel)]="signupDetails.last_name" name="last_name"></ion-input>
         </ion-item>
         <ion-item>
           <ion-label>Email</ion-label>
           <ion-input type="text" required [(ngModel)]="signupDetails.email" name="email"></ion-input>
         </ion-item>
         <ion-item>
           <ion-label>Password</ion-label>
           <ion-input [(ngModel)]="signupDetails.password" name="password" type="password"></ion-input>
         </ion-item>
         <br>
       <p color="danger">{{signupError}}</p>
       <button ion-button type="submit" block>Sign up</button>
     </form>

     <p>Have a user account?</p>
     <button color="light" ion-button (click)="loadLogin()">Login</button>
    </div>


  <div *ngIf="showProfile" >
    <h1>Welcome {{user.first_name}} {{user.last_name}}</h1>
    <img [src]="user.image_url" alt="">

    <button ion-button block (click)="logOut()">Log out</button>
  </div>
</ion-content>
